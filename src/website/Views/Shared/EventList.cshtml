@*
  * Copyright 2015 Matthew Cosand
*@
@{
  ViewBag.Title = Strings.DatabaseName + " " + Strings.ResourceManager.GetString(ViewBag.EventType);
  ViewBag.PageModelRequire = "site/page/event-list";
  ViewBag.PageData = new Dictionary<string, string> {
    { "event-type", ViewBag.EventType },
    { "year", DateTime.Now.Year.ToString() }
  };
}
<div class="row" data-bind="with:page">
  <div class="col-xs-12">
    <div class="overlay-container">
      <div class="overlay" data-bind="visible: loadingList"><h1>Loading ...</h1></div>
      <div class="form-inline">
        <div class="form-group">
          <label for="yearPicker">For Year</label>
          <select id="yearPicker" class="form-control" data-bind="options: years, value: currentYear"></select>
        </div>
      </div>
      <table class="table table-condensed table-striped">
        <thead>
          <tr>
            <th>Date</th>
            <th>DEM</th>
            <th>Title</th>
            <th class="r hidden-xs">People</th>
            <th class="r hidden-xs">Hours</th>
            <th class="r hidden-xs">Miles</th>
          </tr>
        </thead>
        <tbody data-bind="foreach: items">
          <tr>
            <td><span data-bind="text: startText"></span></td>
            <td><span data-bind="text: idNumber"></span></td>
            <td><a data-bind="attr: {href: '@Url.Content("~/" + ViewBag.EventType + "/Detail/")' + id + '#!roster'}, text: title"></a></td>
            <td class="r hidden-xs"><span data-bind="text: participants"></span></td>
            <td class="r hidden-xs"><span data-bind="text: hoursText"></span></td>
            <td class="r hidden-xs"><span data-bind="text: miles"></span></td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <th colspan="3"><span data-bind="text: count"></span> @Strings.ResourceManager.GetString("Event_Count" + @ViewBag.EventType)</th>
            <th class="r hidden-xs"></th>
            <th class="r hidden-xs" data-bind="text: hours"></th>
            <th class="r hidden-xs" data-bind="text: miles"></th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
